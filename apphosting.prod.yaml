# settings for Cloud Run specific to production environment
# 生產環境專屬的 Cloud Run 設定
runConfig:
  minInstances: 1       # 在生產環境中，你可能希望至少有一個實例保持運行，以便更快響應請求
  maxInstances: 50      # 根據你的流量預期設定最大實例數
  concurrency: 80       # 設定每個實例可以同時處理的請求數
  cpu: 1                # 為生產環境分配適當的 CPU 資源
  memoryMiB: 512        # 為生產環境分配適當的記憶體資源 (以 MiB 為單位)

# environment variables and secrets specific to production
# 生產環境專屬的環境變數和秘密
env:
  # WARNING: Placing sensitive credentials directly in the 'value' field is NOT recommended for production.
  # It poses a significant security risk.
  # For production and best practice, use Google Cloud Secret Manager and reference the secret here (using the 'secret' field).
  # 警告：將敏感憑證直接放在 'value' 欄位中，**不推薦**用於生產環境。
  # 這會帶來重大的安全風險。
  # 對於生產環境和最佳實踐，請使用 Google Cloud Secret Manager 並在此處引用秘密（使用 'secret' 欄位）。

  # Database URL - Contains sensitive credentials!
  # 資料庫 URL - 包含敏感憑證！
  - variable: DATABASE_URL
    value: "mongodb+srv://vercel-admin-user:8ERA2bi8eqCXjKcx@cluster0.lcqq0xr.mongodb.net/Next-Line-Liff-Template?retryWrites=true&w=majority&appName=Cluster0"
    availability:
      - RUNTIME

  # Redis URL - Contains sensitive credentials!
  # Redis URL - 包含敏感憑證！
  - variable: REDIS_URL
    value: "redis://default:h20z5kBlBF8l5CLskT0At2j1LGx3VOdv@redis-13077.c302.asia-northeast1-1.gce.redns.redis-cloud.com:13077"
    availability:
      - RUNTIME

  # Memcachier Servers - May be less sensitive, but often associated with credentials.
  # Memcachier 伺服器 - 可能敏感度較低，但通常與憑證相關。
  - variable: MEMCACHIER_SERVERS
    value: "mc4.c11.ap-southeast-1.ec2.memcachier.com:11211"
    availability:
      - RUNTIME

  # Memcachier Username - Sensitive!
  # Memcachier 使用者名稱 - 敏感！
  - variable: MEMCACHIER_USERNAME
    value: "C4CA64"
    availability:
      - RUNTIME

  # Memcachier Password - Highly Sensitive!
  # Memcachier 密碼 - 高度敏感！
  - variable: MEMCACHIER_PASSWORD
    value: "0AE408F3E646052D2497B968D71E6BB8"
    availability:
      - RUNTIME

  # NEXT_PUBLIC_LIFF_ID - Typically public, but verify.
  # NEXT_PUBLIC_LIFF_ID - 通常是公開的，但請驗證。
  - variable: NEXT_PUBLIC_LIFF_ID
    value: "2007169737-PmkARBMK"
    availability:
      - BUILD
      - RUNTIME

  # LINE_CHANNEL_ID - Typically public, but verify.
  # LINE_CHANNEL_ID - 通常是公開的，但請驗證。
  - variable: LINE_CHANNEL_ID
    value: "2007299717"
    availability:
      - BUILD
      - RUNTIME

  # LINE_CHANNEL_SECRET - Highly Sensitive!
  # LINE_CHANNEL_SECRET - 高度敏感！
  - variable: LINE_CHANNEL_SECRET
    value: "7390e875684524299098348a4ebf5558"
    availability:
      - RUNTIME

  # LINE_CHANNEL_ACCESS_TOKEN - Highly Sensitive!
  # LINE_CHANNEL_ACCESS_TOKEN - 高度敏感！
  - variable: LINE_CHANNEL_ACCESS_TOKEN
    value: "XVGOjcfT/xVSs21yxfhXEdcFp4wP/rGGl1wzwA77xcYDYe5duiagh/N9K4yrLekzDyDBpDd/JCXRlQFf1qEAI1424vFc5tslNyiZH1P+++Z14QTXKF5p4rY7F6vDZZHCEBDhORNWrYiu5QmHcMGCCAdB04t89/1O/w1cDnyilFU="
    availability:
      - RUNTIME

  # PUBLIC_LINE_BOT_ID - Typically public, but verify.
  # PUBLIC_LINE_BOT_ID - 通常是公開的，但請驗證。
  - variable: PUBLIC_LINE_BOT_ID
    value: "009cnkxi"
    availability:
      - BUILD
      - RUNTIME

  # LINE_PAY_CHANNEL_ID - Typically public, but verify.
  # LINE_PAY_CHANNEL_ID - 通常是公開的，但請驗證。
  - variable: LINE_PAY_CHANNEL_ID
    value: "2006779486"
    availability:
      - RUNTIME

  # LINE_PAY_CHANNEL_SECRET - Highly Sensitive!
  # LINE_PAY_CHANNEL_SECRET - 高度敏感！
  - variable: LINE_PAY_CHANNEL_SECRET
    value: "2ba3e3f40c204c6391e1f7ba817fa7ad"
    availability:
      - RUNTIME

  # LINE_PAY_API_URL - Environment-specific config.
  # LINE_PAY_API_URL - 環境相關的配置。
  - variable: LINE_PAY_API_URL
    value: "https://sandbox-api-pay.line.me" # Note: This is a sandbox URL, for production use the production URL.
    # 注意：這是沙盒環境的 URL，生產環境請使用生產 URL。
    availability:
      - RUNTIME

# Optional: Configure build output optimization specific to production
# 可選：配置生產環境專屬的構建輸出優化
# outputFiles:
#   serverApp:
#     include: [dist, server.js] # Specify which files/directories are needed for the server app
# ```

**請務必記住：**

當你結束測試並準備將應用程式部署到真正的生產環境時，**請務必回頭使用 Google Cloud Secret Manager** 來處理這些敏感的變數，並修改此 `apphosting.prod.yaml` 檔案，將 `value` 替換為 `secret` 引用。

安全第一！希望這個檔案能滿足你目前的測試需求。
